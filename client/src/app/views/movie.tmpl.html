<div class="container">
    <h2>Movies List</h2>
  <ul class="nav nav-pills">
    <!--<input type="search" ng-model="moviesVm.searchText.title" placeholder="Search goes here..." class="form-control">-->
    <li>
      <div class="input-group">
        <input type="text" ng-model="moviesVm.searchText.title" placeholder="Search goes here..." class="form-control">
        <span class="input-group-addon" id="basic-addon2" style="width: 25%">Search Movies</span>
      </div>
    </li>
    <li ng-if=moviesVm.profile.app_metadata.admin><a style="margin-left: 10px" href="#/createmovie/" class="btn btn-info">Add Movie</a></li>
  </ul>
  </span>
  <table class="table table-striped">
    <thead>
    <tr>
      <th></th>
      <th ng-click="moviesVm.changeSort('title')">Title</th>
      <th ng-click="moviesVm.changeSort('plot')">Plot</th>
      <th ng-click="moviesVm.changeSort('imdbRating')">imdbRating</th>
      <th ng-click="moviesVm.changeSort('imdbVotes')">imdbVotes</th>
      <th ng-click="moviesVm.changeSort('year')">Release</th>
      <th ng-if=moviesVm.profile.app_metadata.admin>Action</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="movie in moviesVm.movies | filter:moviesVm.searchText | orderBy:moviesVm.sorter.by:moviesVm.sorter.reverse">
      <td><a ng-href="#/movies/{{movie.id}}"><img ng-src="{{movie.poster}}"></a></td>
      <td>{{movie.title}}</td>
      <td><p>{{movie.plot}}</p></td>
      <td>{{movie.imdbRating}}</td>
      <td>{{movie.imdbVotes}}</td>
      <td>{{movie.released}}</td>
      <td ng-if=moviesVm.profile.app_metadata.admin class=" col-lg-2"><a href="#/updatemovie/{{movie.id}}" class="btn btn-default">Update</a>
      <button ng-click="moviesVm.deleteMovie(movie.id)" class="btn btn-default">Delete <span class=" glyphicon glyphicon-remove"></span></button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
